(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{390:function(s,a,t){"use strict";t.r(a);var n=t(42),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"인썸니아-notes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#인썸니아-notes"}},[s._v("#")]),s._v(" 인썸니아 Notes")]),s._v(" "),t("h2",{attrs:{id:"project2-notes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#project2-notes"}},[s._v("#")]),s._v(" Project2 Notes")]),s._v(" "),t("h3",{attrs:{id:"has-and-belongs-to-many-vs-has-many-through-차이"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#has-and-belongs-to-many-vs-has-many-through-차이"}},[s._v("#")]),s._v(" has_and_belongs_to_many vs has_many through 차이")]),s._v(" "),t("p",[s._v("레일즈는 다 대 다 관계를 다음과 같은 두가지 방법으로 지원한다.")]),s._v(" "),t("h4",{attrs:{id:"has-and-belongs-to-many"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#has-and-belongs-to-many"}},[s._v("#")]),s._v(" has_and_belongs_to_many")]),s._v(" "),t("p",[s._v("는 direct 한 방법으로 lookup table 을 만들어 주는데 각자의 모델을 reference 한다.")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Rails 4")]),s._v("\nrails g migration create_posts_hashtags\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Rails 5")]),s._v("\nrails g migration "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CrateJoinTablePostsHashtags")]),s._v(" posts hashtags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("위와 같은 명령어로 마이그레이션을 진행 해준뒤")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# post.rb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\n    has_and_belongs_to_many "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":hashtags")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hashtag.rb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Hashtag")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\n    has_and_belongs_to_many "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":posts")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("blockquote",[t("p",[s._v("간단하게 연결 테이블만 구성할 필요가 있는 경우는 has_and_belongs_to_many 가 적합하다.")])]),s._v(" "),t("h4",{attrs:{id:"has-many-through"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#has-many-through"}},[s._v("#")]),s._v(" has_many :through")]),s._v(" "),t("p",[s._v("는 indirect 한 방법으로 join 된 모델을 만들어 준다.")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app/models/post.rb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\nhas_many "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":hashtag_posts")]),s._v("\nhas_many "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":hashtags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" through"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":hashtag_posts")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app/models/hashtag.rb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Hashtag")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\nhas_many "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":post_hashtags")]),s._v("\nhas_many "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":posts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" through"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":post_hashtags")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app/models/post_hashtag.rb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PostHashtag")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\n    belongs_to "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":article")]),s._v("\n    belongs_to "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":category")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# db/schema.rb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ActiveRecord")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("define"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("version"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("_05_19_124121"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\n  create_table "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"post_hashtags"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" force"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":cascade")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n    t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("integer "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"post_id"')]),s._v("\n    t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("integer "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hashtag_id"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 생략")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("blockquote",[t("p",[s._v("Join Model 에 validations, callbacks 등의 attribute 가 필요하거나")]),s._v(" "),t("p",[s._v("Join Model 을 independent entity 로 사용해야 한다면 has_many :through 가 적합하다.")])]),s._v(" "),t("h3",{attrs:{id:"active-admin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#active-admin"}},[s._v("#")]),s._v(" Active Admin")]),s._v(" "),t("p",[s._v("Active Admin 플러그 인은 레일즈 관리자 페이지를 생성해준다.")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[s._v("rails g model item user"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":references")]),s._v(" title price"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":integer")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":index")]),s._v(" description"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":text")]),s._v(" image category"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":references")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("price 로 정렬이 자주 일어나기 때문에 index 를 추가해줌. (필드 명만 써주는 경우 타입은 string 으로 생성 된다.)")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[s._v("rails g active_admin"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":resource")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MyModel")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app/admin/my_model.rb 를 생성한다")]),s._v("\nrails db"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":seed")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# seeds.rb 에 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Character.create(name: 'Luke', movie: movies.first)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AdminUser.create!(email: 'admin@example.com', password: 'password', password_confirmation: 'password') ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if Rails.env.development?")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 과 같이 development 환경에서 테스트용 데이터를 생성해준다. ")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 어드민 페이지에서는 모든 필드 수정/ 편집을 허용하기")]),s._v("\nconfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("before_action "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n   params"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("permit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 액티브 어드민에서 제공하는 코멘트 기능 이용하지 않기")]),s._v("\nconfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("comments "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("schema 필드 변경하기")]),s._v(" "),t("p",[s._v("기존 schema.rb 파일에서 category_id 필드를 not null 설정을 없애 주기 위해 아래와 같이 마이그레이션을 진행해줌.")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ChangeColumnNull")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ActiveRecord")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Migration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token method-definition"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("change")])]),s._v("\n    change_column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":items")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":category_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":integer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"carrierwave-👉-파일-업로드-gem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#carrierwave-👉-파일-업로드-gem"}},[s._v("#")]),s._v(" CarrierWave 👉 파일 업로드 Gem")]),s._v(" "),t("br"),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 이미지 업로더 생성")]),s._v("\nrails g uploader "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Image")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app/uploaders/image_uploader.rb 생성")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("이미지 업로더를 다음과 같이 생성해준 뒤 필요한 이미지 업로더가 필요한 model 에 다음과 같이")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# item.rb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Item")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\n    mount_uploader "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ImageUploader")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 이미지 첨부를 위해 추가해준다.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"active-admin-index-페이지에서-item-image-제공하기"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#active-admin-index-페이지에서-item-image-제공하기"}},[s._v("#")]),s._v(" Active Admin index 페이지에서 Item Image 제공하기")]),s._v(" "),t("br"),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app/admin/items.rb")]),s._v("\n  index "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    selectable_column\n    id_column\n    column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":user")]),s._v("\n    column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":category")]),s._v("\n    column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":title")]),s._v("\n    column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":image")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# image_tag obj.image.url if obj.image?")]),s._v("\n      link_to"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("image_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("image"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" style"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"width: 100px;"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("image"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":_blank")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("image"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# image_tag 라는 헬퍼 메소드 이용하여 이미지 제공")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n    column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":created_at")]),s._v("\n    actions\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("이제 active_admin 에 카테고리 모델 추가")]),s._v(" "),t("p",[s._v("rails g active_admin:resource category")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app/admin/users.rb")]),s._v("\n  index "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    selectable_column\n    id_column\n    column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":email")]),s._v("\n    column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":created_at")]),s._v("\n    actions\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 필터 목록을 해당 필드만 적용")]),s._v("\n  filter "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":email")]),s._v("\n  filter "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":created_at")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 폼 태그 커스터마이징")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Admin 이 사용자 계정을 만들때는 이메일과 비밀번호만 요구한다 ")]),s._v("\n  form "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("f"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n    f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("inputs "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n      f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("input "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":email")]),s._v("\n      f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("input "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":password")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n    f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("actions\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h4",{attrs:{id:"navigation-bar-현재-카테고리-클래스-active-설정하기"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#navigation-bar-현재-카테고리-클래스-active-설정하기"}},[s._v("#")]),s._v(" Navigation Bar 현재 카테고리 클래스 Active 설정하기")]),s._v(" "),t("br"),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("href")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("<%= items_path(category_id: c.id) %>"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("nav-link <%= params[:category_id].to_i == c.id ? "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v('active"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("%")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('">\n  <%= c.title %>\n'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"pagination"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pagination"}},[s._v("#")]),s._v(" Pagination")]),s._v(" "),t("p",[s._v("rails g kaminari:views bootstrap4")]),s._v(" "),t("p",[s._v("카미나리 pagination 뷰에 부트스트랩 적용")]),s._v(" "),t("h3",{attrs:{id:"찜하기-구현하기"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#찜하기-구현하기"}},[s._v("#")]),s._v(" 찜하기 구현하기")]),s._v(" "),t("p",[s._v("하나의 유저는 여러개의 아이템을 찜하고 하나의 아이템은 여러 유저가 찜 할 수 있기 때문에 다 대 다 관계를 설정해줘야 한다.")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[s._v("👉 뷰 설정\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# show.html.erb 에서 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" link_to "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"찜하기"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" toggle_item_path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@item")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 현재 아이템 기준으로 item - user 관계 설정을 위한 route")]),s._v("\n\n👉 모델 설정\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 다대다 의존성 ⭐️")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# user.rb 에서 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 찜하기는 회원이 삭제되거나 탈퇴하면 지워져도 ⭕️")]),s._v("\n  has_many "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":user_items")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dependent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":destroy")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 등록된 상품은 등록한 회원이 삭제되더라도 주문이나 리뷰 등 다른 데이터와")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 많이 엮여 있기 때문에 삭제하지 않고 foreign_key 만 null 로 갱신")]),s._v("\n  has_many "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":items")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dependent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":nullify")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 👉 유저가 삭제되면 유저 필드들이 null 이 됨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n👉 라우트 설정 \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# routes.rb 에서 라우트를 다음과 같이 변경해준다. ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\nresources "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":items")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\nmember "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  get "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":toggle")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 찜하기 get 메소드")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[s._v("👉 컨트롤러 설정\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# items_controller.rb 에서 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ItemsController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationController")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 유저 확인을 위한 before_action 을 적용해주고 ")]),s._v("\n before_action "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":authenticate_user!")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" only"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":toggle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# item 을 먼저 불러 온 뒤 관계설정이 되므로")]),s._v("\n before_action "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":load_object")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" only"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":show")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":toggle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token method-definition"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toggle")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" user_item "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" current_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("where"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("item"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@item")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("first\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 이미 찜한 상태라면 찜을 제거")]),s._v("\n  user_item"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("destroy\n  flash"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":notice")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"찜을 제거하였습니다"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 찜한 적이 없으면 찜하기")]),s._v("\n  current_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("where"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("item"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@item")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("create\n  flash"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":notice")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"찜 하였습니다"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\nredirect_back fallback_location"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" root_path\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h3",{attrs:{id:"주문-구현"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#주문-구현"}},[s._v("#")]),s._v(" 주문 구현")]),s._v(" "),t("p",[s._v("주문에는 여러개의 주문 항목이 포함되는 경우 (장바구니 형태)가 많다. 따라서")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 주문 설계")]),s._v("\nrails g model order user"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":references")]),s._v(" status"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":integer")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":index")]),s._v(" total"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":integer")]),s._v(" number"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":string")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":index")]),s._v(" zipcode address1 address2\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 주문 항목 설계  ")]),s._v("\nrails g model line_item order"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":references")]),s._v(" item"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":references")]),s._v(" amount"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":integer")]),s._v(" price"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":integer")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("주문 상태는 cart (장바구니), paid (결제 완료), cancel (주문 취소) 를 가지기 때문에")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# order.rb 에 다음과 같이 enum 형태로 각각의 심볼을 넣어준다.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Order")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationRecord")]),s._v("\n  belongs_to "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" optional"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# enum [필드] [옵션들 심볼 형태]")]),s._v("\n  enum status"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":cart")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":paid")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":canceled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("따라서 주문을 할 때 컨트롤러에서 @order 에 대한 status 필드 값을 변경해준다. 예를들어 결제가 이루어지는 시점 update 에서")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationController")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token method-definition"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("update")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@order")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("paid"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 여기서 status 를 paid 심볼로 바꿔준다. ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@order")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("update"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("paid_at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("now"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nredirect_to "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@order")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("이후에 Orders 필드에 취소 시각, 결제 시각을 추가해주는데, DB 마이그레이션에 다음과 같은 항목을 추가해준다.")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AddPaidAtCanceledAtToOrders")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ActiveRecord")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Migration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token method-definition"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("change")])]),s._v("\n    add_column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":orders")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":paid_at")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":datetime")]),s._v("\n    add_column "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":orders")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":canceled_at")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":datetime")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# paid_at, canceled_at 으로 정렬이 자주 일어나기 때문에")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 인덱스를 추가해주어 DB 정렬 속도를 향상 시킨다")]),s._v("\n    add_index "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":orders")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":paid_at")]),s._v("\n    add_index "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":orders")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":canceled_at")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("이제 orders_controller 에서 새로운 주문을 생성하도록 설정")]),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrdersController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ApplicationController")]),s._v("\n  before_action "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":authenticate_user!")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token method-definition"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("new")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@order")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" get_cart\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 이때 get_cart 라는 일종의 헬퍼 메소드를 정의 해준다")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ActionController")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Base")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token method-definition"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get_cart")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 현재 로그인한 유저가 가진 주문 중 cart 상태의 주문을 하나 찾아서 가져오가나")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 없으면 새로 생성한다")]),s._v("\n    current_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("orders"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("first_or_create\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h4",{attrs:{id:"form-태그-카테고리-선택하기"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#form-태그-카테고리-선택하기"}},[s._v("#")]),s._v(" form 태그 카테고리 선택하기")]),s._v(" "),t("p",[s._v("레일즈 form_for 를 이용하여 폼 태그를 다음과 같이 작성할 수 있다.")]),s._v(" "),t("div",{staticClass:"language-erb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-erb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token erb language-erb"}},[t("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%=")]),s._v(" form_for "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@item")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("f"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("form-group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token erb language-erb"}},[t("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%=")]),s._v(" f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("label "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":category_id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token erb language-erb"}},[t("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%=")]),s._v(" f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("select "),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":category_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \noptions_for_select"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Category")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":position")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("map "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"form-control"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("br"),s._v(" "),t("div",{staticClass:"language-rb line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-rb"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.7")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("022")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Category")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v(":position")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("map"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# Category Load (0.4ms)  SELECT "categories".* FROM "categories" ')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ORDER BY "categories"."position" ASC')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"식품/생활"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"패션/뷰티"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"가전/디지털"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"여행/레저"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);